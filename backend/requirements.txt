# Core Dependencies
Flask==2.3.3
Werkzeug==2.3.7  # Aligné avec Flask 2.3.x
Jinja2==3.1.3
itsdangerous==2.2.0
click==8.1.7
blinker==1.9.0
python-dotenv==1.0.1
gunicorn==22.0.0

# Database
Flask-SQLAlchemy==3.1.1
SQLAlchemy==2.0.36  # Version stable avec Flask-SQLAlchemy 3.1.1
psycopg[binary]==3.2.9
alembic==1.13.1
Flask-Migrate==4.0.7
sqlalchemy-utils==0.41.2  # Version compatible avec SQLAlchemy 2.0.x

# API & Serialization
Flask-RESTx==1.2.0
marshmallow==3.21.1  # Dernière version majeure 3.x
Flask-Marshmallow==1.2.1
marshmallow-sqlalchemy==0.29.0
webargs==8.7.0
apispec==6.4.0
apispec-webframeworks==1.2.0

# Authentication & Security
Flask-JWT-Extended==4.6.0
PyJWT==2.10.1
Flask-Principal==0.4.0
passlib==1.7.4
Flask-Login==0.6.3
Flask-Bcrypt==1.0.1
Flask-Talisman==1.1.0
python-jose==3.3.0
python-keycloak==3.12.0

# Search
opensearch-py==2.7.1
elasticsearch-dsl==7.4.1  # Version compatible avec opensearch-py
elasticsearch==7.17.9  # Aligné avec elasticsearch-dsl 7.x et urllib3<2

# Async & Background Tasks
celery==5.4.0
redis==5.2.1  # Mise à jour vers la dernière version stable
Flask-SocketIO==5.3.7
eventlet==0.36.1
gevent==24.2.1
gevent-websocket==0.10.1

# Rate Limiting & Caching
Flask-Limiter==3.8.0
Flask-Caching==2.3.1
# redis-py-cluster supprimé: le support cluster est intégré dans redis>=4.2
Flask-Cors==4.0.1

# File Uploads & Storage
Pillow==10.4.0
boto3==1.34.70
botocore==1.34.70
python-magic==0.4.27

# Email
Flask-Mail==0.9.1
email-validator==2.1.0.post1

# Payments
stripe==8.10.0
paypalrestsdk==1.13.3

# AI & Machine Learning
openai==1.30.5
transformers==4.38.2
torch==2.2.1
sentence-transformers==2.6.1
numpy==1.26.4
pandas==2.2.1
scikit-learn==1.4.1.post1
nltk==3.8.1

# Monitoring & Logging
sentry-sdk[flask]==1.44.1
python-json-logger==2.0.7
structlog==24.2.0

# Testing
pytest==8.1.1
pytest-cov==4.1.0
pytest-mock==3.12.0
factory-boy==3.3.0
Faker==24.12.0

# Development & Code Quality
black==24.3.0
flake8==7.0.0
isort==5.13.2
mypy==1.8.0
types-python-dateutil==2.8.19.20240311

# Utilities
python-dateutil==2.9.0.post0
pytz==2024.1
requests==2.32.3
urllib3==1.26.19  # compatible opensearch-py>=1.26.19 et elasticsearch 7.x
python-slugify==8.0.4
phonenumbers==8.13.31
pycountry==24.6.1
geoalchemy2==0.15.0
Shapely==2.0.3
pyproj==3.6.1
greenlet==3.2.4

# Optional: Background removal (heavy)
# rembg>=2.0.0

# Optional: PDF generation
# reportlab==4.1.0
# xhtml2pdf==0.2.16

# Optional: Excel export
# openpyxl==3.1.2
# pandas[excel]==2.2.1
